<!DOCTYPE html>
<html>
  <head>
    <title>JCUP</title>
    <meta charset="utf-8" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7/web3.min.js"
      integrity="sha512-yAmmVkOXqtDZRaueLdmLwMB67JtaRtjFzQGiAiJKvLiFlDvq4Tzm5R6uLcOMyvPRQlXpYHdYxc5IbiCwuquhUw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="deployer.js"></script>
  </head>
  <body>
    <div class="container mt-3 mb-3" style="width: 450px">
      <h2 class="text-center">JCUP</h2>
      <p class="text-center">Automatic Crypto Subscription Manager</p>
      <form class="form-horizontal">
        <div class="input-group mb-2">
          <label for="currency" class="col-3 align-self-center"
            >Currency:</label
          >
          <div class="col-8">
            <select class="form-control" id="currency" name="currency">
              <option value="USD">BTC</option>
              <option value="EUR">ETH</option>
              <option value="GBP">XRP</option>
            </select>
          </div>
        </div>
        <div class="input-group mb-2">
          <label for="price" class="col-3 align-self-center">Price:</label>
          <div class="col-8">
            <input
              type="number"
              class="form-control"
              id="price"
              name="price"
              step="0.01"
              min="0.00"
              placeholder="0.00"
              required
            />
          </div>
        </div>
        <div class="input-group mb-2">
          <label for="period" class="col-3 align-self-center">Period:</label>
          <div class="col-8">
            <select class="form-control" id="period" name="period">
              <option value="day">Daily</option>
              <option value="week">Weekly</option>
              <option value="month">Monthly</option>
              <option value="year">Yearly</option>
            </select>
          </div>
        </div>
        <button id="submitButton" type="submit" class="btn btn-primary">
          Submit
        </button>
      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@superfluid-finance/js-sdk@1.13.0/dist/umd/superfluid.min.js"></script>
    <script>
      document.getElementById("submitButton").addEventListener("click", (e) => {
        e.preventDefault();

        deployContract()
          .then((address) => {
            console.log("Deployed Contract Address:", address);
          })
          .catch((error) => {
            console.error("Error deploying contract:", error);
          });
      });
    </script>
  </body>
</html>
